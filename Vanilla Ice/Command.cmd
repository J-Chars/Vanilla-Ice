;-----------------------
;-| ICE by JtheSaltyy |-
;-----------------------
;   - COMMAND FILE -
;-----------------------

;================================

[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s

;================================

[Defaults]
command.Time = 16
command.buffer.Time = 1

;================================

;=[ LVL 3 SUPERS ]=

[Command]
name = "Void Destruction"
command = ~B, $D, F, D, DF, F, x
time = 32

[Command]
name = "Void Destruction"
command = ~B, $D, F, D, DF, F, y
time = 32

[Command]
name = "Void Destruction"
command = ~B, $D, F, D, DF, F, z
time = 32

[Command]
name = "Decisive Kill"
command = ~D, DF, F, D, DF, F, x
time = 32

[Command]
name = "Decisive Kill"
command = ~D, DF, F, D, DF, F, y
time = 32

[Command]
name = "Decisive Kill"
command = ~D, DF, F, D, DF, F, z
time = 32

[Command]
name = "Void Break"
command = ~D, DB, B, D, DB, B, x
time = 32

[Command]
name = "Void Break"
command = ~D, DB, B, D, DB, B, y
time = 32

[Command]
name = "Void Break"
command = ~D, DB, B, D, DB, B, z
time = 32

;=[ LVL 2 SUPERS ]=

[Command]
name = "Void Pinball"
command = ~D, DB, B, D, DB, B, x
time = 32

[Command]
name = "Void Pinball"
command = ~D, DB, B, D, DB, B, y
time = 32

[Command]
name = "Void Pinball"
command = ~D, DB, B, D, DB, B, z
time = 32

;=[ LVL 1 SUPERS ]=

[Command]
name = "Dark Scatter"
command = ~D, DF, F, D, DF, F, a
time = 32

[Command]
name = "Dark Scatter"
command = ~D, DF, F, D, DF, F, b
time = 32

[Command]
name = "Dark Scatter"
command = ~D, DF, F, D, DF, F, c
time = 32

[Command]
name = "Raging Vengeance"
command = ~D, DF, F, D, DF, F, x
time = 32

[Command]
name = "Raging Vengeance"
command = ~D, DF, F, D, DF, F, y
time = 32

[Command]
name = "Raging Vengeance"
command = ~D, DF, F, D, DF, F, z
time = 32

[Command]
name = "Tandem"
command = ~D, DB, B, D, DB, B, a
time = 32

[Command]
name = "Tandem"
command = ~D, DB, B, D, DB, B, b
time = 32

[Command]
name = "Tandem"
command = ~D, DB, B, D, DB, B, c
time = 32

[Command]
name = "custom-combo"
command = c+z
time = 1

;================================

[Command]
name = "powerup"
command = y+b
time = 1

;================================

[Command]
name = "EX Blood Sacrifice"
command = ~F, $D, B, x+y
time = 16

[Command]
name = "EX Blood Sacrifice"
command = ~F, $D, B, y+z
time = 16

[Command]
name = "EX Blood Sacrifice"
command = ~F, $D, B, x+z
time = 16

[Command]
name = "Blood Sacrifice"
command = ~F, $D, B, x
time = 16

[Command]
name = "Blood Sacrifice"
command = ~F, $D, B, y
time = 16

[Command]
name = "Blood Sacrifice"
command = ~F, $D, B, z
time = 16

;================================

[Command]
name = "EX Cream Smash"
command = U, x+y
time = 8

[Command]
name = "EX Cream Smash"
command = U, y+z
time = 8

[Command]
name = "EX Cream Smash"
command = U, x+z
time = 8

[Command]
name = "Cream Smash"
command = U, x
time = 8

[Command]
name = "Cream Smash"
command = U, y
time = 8

[Command]
name = "Cream Smash"
command = U, z
time = 8

;================================

[Command]
name = "EX Void Ball"
command = ~D, DF, F, x+y
time = 16

[Command]
name = "EX Void Ball"
command = ~D, DF, F, y+z
time = 16

[Command]
name = "EX Void Ball"
command = ~D, DF, F, x+z
time = 16

[Command]
name = "Void Ball"
command = ~D, DF, F, x
time = 16

[Command]
name = "Void Ball"
command = ~D, DF, F, y
time = 16

[Command]
name = "Void Ball"
command = ~D, DF, F, z
time = 16

;================================

[Command]
name = "EX Cream Hop"
command = ~D, DB, B, x+y
time = 16

[Command]
name = "EX Cream Hop"
command = ~D, DB, B, y+z
time = 16

[Command]
name = "EX Cream Hop"
command = ~D, DB, B, x+z
time = 16

[Command]
name = "Cream Hop"
command = ~D, DB, B, x
time = 16

[Command]
name = "Cream Hop"
command = ~D, DB, B, y
time = 16

[Command]
name = "Cream Hop"
command = ~D, DB, B, z
time = 16

;================================

[Command]
name = "Void Pattern Straight"
command = ~D, DF, F, x
time = 16

[Command]
name = "Void Pattern Straight"
command = ~D, DF, F, y
time = 16

[Command]
name = "Void Pattern Straight"
command = ~D, DF, F, z
time = 16

;================================

[Command]
name = "Void Pattern Straight Reverse"
command = ~D, DB, B, x
time = 16

[Command]
name = "Void Pattern Straight Reverse"
command = ~D, DB, B, y
time = 16

[Command]
name = "Void Pattern Straight Reverse"
command = ~D, DB, B, z
time = 16

;================================

[Command]
name = "Void Pattern Curve"
command = ~F, D, DF, x
time = 16

[Command]
name = "Void Pattern Curve"
command = ~F, D, DF, y
time = 16

[Command]
name = "Void Pattern Curve"
command = ~F, D, DF, z
time = 16

;================================

[Command]
name = "Void Pattern Curve Reverse"
command = ~B, D, DB, x
time = 16

[Command]
name = "Void Pattern Curve Reverse"
command = ~B, D, DB, y
time = 16

[Command]
name = "Void Pattern Curve Reverse"
command = ~B, D, DB, z
time = 16

;================================

[Command]
name = "roll"
command = a+x
time = 1

[Command]
name = "FF"  
command = F, F
time = 10

[Command]
name = "BB"    
command = B, B
time = 10

;================================
;Roll-Cancel Commands
;================================

[Command]
name = "RC_DP"
command = ~F, D, DF, x+a
time = 16

[Command]
name = "RC_BDP"
command = ~B, D, DB, x+a
time = 16

[Command]
name = "RC_HCF"
command = ~B, DB, D, DF, x+a
time = 16

[Command]
name = "RC_HCB"
command = ~F, DF, D, DB, x+a
time = 16

[Command]
name = "RC_QCF"
command = ~D, DF, x+a
time = 16

[Command]
name = "RC_QCB"
command = ~D, DB, x+a
time = 16

;================================

[Command]
name = "recovery"
command = x+y
time = 1

;================================

[Command]
name = "down_a"
command = ~D, a
time = 15

[Command]
name = "down_b"
command = ~D, b
time = 15

[Command]
name = "down_c"
command = ~D, c
time = 15

;================================

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "2p"
command = x+y
time = 1

[Command]
name = "2p"
command = y+z
time = 1

[Command]
name = "2p"
command = x+z
time = 1

[Command]
name = "2k"
command = a+b
time = 1

[Command]
name = "2k"
command = b+c
time = 1

[Command]
name = "2k"
command = a+c
time = 1

[Command]
name = "ab"
command = a+b
time = 1

[Command]
name = "abc"
command = a+b+c
time = 2

[Command]
name = "p"
command = x
time = 1

[Command]
name = "p"
command = y
time = 1

[Command]
name = "p"
command = z
time = 1

[Command]
name = "k"
command = a
time = 1

[Command]
name = "k"
command = b
time = 1

[Command]
name = "k"
command = c
time = 1

[Command]
name = "start"
command = s
time = 1

;================================

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup" 
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "holdfwd+up"
command = /$UF
time = 1

[Command]
name = "holdfwd+down"
command = /$DF
time = 1

[Command]
name = "holdback+up" 
command = /$UB
time = 1

[Command]
name = "holdback+down" 
command = /$DB
time = 1

[Command]
name = "holdz"
command = /z
time = 1
[Command]
name = "holdc"
command = /c
time = 1
[Command]
name = "holdy"
command = /y
time = 1
[Command]
name = "holdb"
command = /b
time = 1
[Command]
name = "holdx"
command = /x
time = 1
[Command]
name = "holda"
command = /a
time = 1
[Command]
name = "holds"
command = /s
time = 1

;================================

[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "back"
command = B
time = 1

[Command]
name = "up"
command = U
time = 1

[Command]
name = "down"
command = D
time = 1

[Command]
name = "start"
command = s
time = 1
;================================

[Command]
name = "highjump"
command = $D,$U
time = 15

[Command]
name = "superjump"
command = ~D, U
time = 15

[Command]
name = "DU"
command = D, U
time = 18

[Command]
name = "DU"
command = DB, UF
time = 18

[Command]
name = "DU"
command = DF, UB
time = 18

[Command]
name = "DU"
command = $D, UF
time=18

[Command]
name = "DU"
command = $D, UB
time = 18

;================================

[Command]
name = "F"
command = F
time = 1

[Command]
name = "B"
command = B
time = 1

[Command]
name = "U"
command = U
time = 1

[Command]
name = "D"
command = D
time = 1

;================================

[Statedef -1]

;===[ AI MOTIONS ]===


;=[ AI SYSTEM MOVES ]=

[State -1, Standing Parry]
type = HitOverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = AILevel && statetype != A
trigger1 = random < 64 * AILevel
trigger1 = (StateNo = [120, 140]) || Ctrl
slot = 0
stateno = 700
attr = SA, AA, AP
time = 3

[State -1, Crouching Parry]
type = HitOverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = AILevel && statetype != A && ctrl
trigger1 = random < 64 * AILevel
trigger1 = (StateNo = [120, 140]) || Ctrl
slot = 0
stateno = 701
attr = C, AA, AP
time = 3

[State -1, Aerial Parry]
type = HitOverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = AILevel && statetype = A && ctrl
trigger1 = random < 64 * AILevel
slot = 0
stateno = 702
attr = SCA, AA, AP
time = 3

[State -1, Run]
type = changestate
value = 100 + (((Var(59) = [0, 1]) || (Var(59) = [4, 5])) * 2)
triggerall = AIlevel && numenemy
triggerall = statetype = S && roundstate = 2 && ctrl 
triggerall = (stateno != [100, 105]) && enemynear, movetype != A
triggerall = P2BodyDist X > 128 && enemynear, movetype = I
Trigger1 = Random < AILevel * 8

[State -1, Back Dash]
type = changestate
value = 105
triggerall = AIlevel && numenemy
triggerall = statetype = S && roundstate = 2 && ctrl 
triggerall = (stateno != [100, 105]) && enemynear, movetype != A
triggerall = inguarddist && enemynear, movetype = A
Trigger1 = Random < AILevel * 125

[State -1, Custom Combo]
type = changestate
value = 760
trigger1 = !FVar(0) && !Var(57)
trigger1 = Var(59) = 1 || Var(59) = 6
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && statetype != A
trigger1 = power >= 1000 && !var(20) && enemynear, statetype != A
trigger1 = (ctrl || stateno = 52 || (stateno = [100, 101]))
trigger1 = facing != enemy, facing
trigger1 = (enemynear, movetype = A) && (p2bodydist x = [-45, 45]) && (enemynear, vel y >= 0)
trigger1 = (enemynear, hitdefattr != SCA, HA, HP, HT) && random < AILevel * 125

[State -1 Dodge/Roll]
type = changestate
value = cond((Var(59) = [0, 1]) || Var(59) = 4 || Var(59) = 6, 720, 710)
trigger1 = !Var(57)
trigger1 = Var(59) != 3 && Var(59) != 5
trigger1 = AIlevel && numenemy
trigger1 = statetype = S && roundstate = 2 && ctrl 
trigger1 = (EnemyNear, MoveType = A) && p2bodydist x < 65
Trigger1 = Random < AILevel * 16

[State -1, Guard]
type = changestate
value = 120
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && inguarddist
trigger1 = ctrl && (stateno != [120, 155]) && !var(20)
trigger1 = ifelse(statetype = A, (var(9) != 2 || stateno = 5210), 1)
trigger1 = !(enemynear, hitdefattr = SCA, AT) && (enemynear, time < 120)
trigger1 = statetype != A || p2statetype = A
trigger1 = random < 125 * AILevel

;==[ NORMAL ICE ]==

;=[ AI NORMALS ]=

[State -1, Crouching Light Punch]
type = changestate
value = 400 + (Var(57) * 10000)
triggerall = !FVar(0)
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x=[-32,32]) && (p2dist y=[-8,8]) && p2statetype!=L && p2statetype!=A&&!(enemynear,hitfall)
trigger1 = ctrl && random < AILevel * 64

[State -1, Stand Medium]
type = changestate
value = 420 + (Var(57) * 10000)
triggerall = !FVar(0)
triggerAll = AILevel && NumEnemy
triggerall = var(57)
triggerAll = RoundState = 2 && StateType != A
triggerAll = (P2BodyDist x = [0,50]) && (P2Dist y = [-25,0]) && P2StateType != L
triggerAll = (EnemyNear, const(size.head.pos.y) <= -40) || (EnemyNear, StateType = A)
trigger1 = (ctrl || (StateNo = [100,101])) && Random < AILevel * 120
trigger2 = (StateNo = [200,499]) && !AnimTime && ctrl
trigger2 = MoveHit && (EnemyNear, GetHitVar(HitTime) >= 3) && Random < AILevel * 32

[State -1, Standing Medium Kick]
type = ChangeState
value = cond(Var(57), 240, 210) + (Var(57) * 10000)
triggerall = !FVar(0)
triggerall = !numhelper(10000) && !numexplod(10000)
triggerall = AILevel && NumEnemy
triggerall = RoundState = 2 && StateType != A
triggerall = (enemynear, vel Y = [0, 3]) && (P2bodydist X = [25, 50]) && (enemynear, pos Y = [-95,-75])
trigger1 = ctrl && random < AILevel * 32

[State -1, Crouching Heavy Punch]
type = changestate
value = 10420
triggerall = !FVar(0)
triggerall = var(57)
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2 && enemynear, movetype != A
triggerall = (p2bodydist x = [0, 40])&&(p2dist y = [-50,50])&&p2statetype!=L&&p2statetype=S&&!(enemynear, hitfall)
trigger1 = ctrl && random < AILevel * 32

[State -1, Jump-In Attack]
type = changestate
value = 640 + (Var(57) * 10000)
triggerall = !FVar(0)
triggerall = AILevel && NumEnemy
triggerall = RoundState = 2
triggerall = P2StateType = A && P2StateType != L
triggerall = (stateno = 50 || stateno = 51) && Vel Y >= 0
trigger1 = P2BodyDist X < 64
trigger1 = StateNo != [600, 699]
trigger1 = StateType = A
trigger1 = Ctrl
trigger1 = Random < AILevel * 125

[State -1, Taunt]
type = changestate
value = 195 + (Var(57) * 10000)
triggerall = !FVar(0)
triggerall = AIlevel && numenemy
triggerall = statetype != A && life >= 0.5 * lifemax
triggerall = (enemynear, life) <= 0.5 * (enemynear, lifemax)
trigger1 = ctrl
trigger1 = p2dist x >= 160 && !(enemynear, ctrl)
trigger1 = (enemynear, movetype = H) && (enemynear, hitfall) && random < AILevel * 100

[State -1, Stand On]
type = ChangeState
value = 840
triggerall = !Var(57)
triggerall = !numhelper(10000) && !numexplod(10000)
triggerall = AIlevel && numenemy
triggerall = (target,backedgebodydist>10)||(target,frontedgebodydist>10)||FVar(8) <= 15
trigger1 = ctrl && random < AILevel * 32

[State -1, Stand Off]
type = changestate
value = 845
triggerall = AIlevel && numenemy
triggerall = Var(57)
triggerall = statetype != A && roundstate = 2 && FVar(8) > 30
triggerall = Fvar(13) <= 15 || P2BodyDist X >= 135
trigger1 = ctrl && random < AILevel * 32

;==[ BICE AI ]==

;=[ AI NORMALS ]=

[State -1, Crouching Light Punch]
type = changestate
value = 100400 + (Var(57) * -80000)
triggerall = FVar(0)
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x=[-32,32]) && (p2dist y=[-8,8]) && p2statetype!=L && p2statetype!=A&&!(enemynear,hitfall)
trigger1 = ctrl && random < AILevel * 64

[State -1, Crouch Medium]
type = changestate
value = 100410 + (Var(57) * -80000)
triggerall = FVar(0)
triggerAll = AILevel && NumEnemy
triggerAll = RoundState = 2 && StateType != A
triggerAll = (P2BodyDist x = [0,50]) && (P2Dist y = [-25,0]) && P2StateType != L
triggerAll = (EnemyNear, const(size.head.pos.y) <= -40) || (EnemyNear, StateType = A)
trigger1 = (ctrl || (StateNo = [100,101])) && Random < AILevel * 120
trigger2 = (StateNo = [200,499]) && !AnimTime && ctrl
trigger2 = MoveHit && (EnemyNear, GetHitVar(HitTime) >= 3) && Random < AILevel * 32

[State -1, Standing Medium Kick]
type = ChangeState
value = 100210 + (Var(57) * -80000)
triggerall = FVar(0)
triggerall = !numhelper(10000) && !numexplod(10000)
triggerall = AILevel && NumEnemy
triggerall = RoundState = 2 && StateType != A
triggerall = (enemynear, vel Y = [0, 3]) && (P2bodydist X = [25, 50]) && (enemynear, pos Y = [-95,-75])
trigger1 = ctrl && random < AILevel * 32

[State -1, Crouching Medium Punch]
type = changestate
value = 20410
triggerall = FVar(0)
triggerall = var(57)
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2 && enemynear, movetype != A
triggerall = (p2bodydist x = [0, 40])&&(p2dist y = [-50,50])&&p2statetype!=L&&p2statetype=S&&!(enemynear, hitfall)
trigger1 = ctrl && random < AILevel * 32

[State -1, Jump-In Attack]
type = changestate
value = 100650 + (Var(57) * 20000)
triggerall = !FVar(0)
triggerall = AILevel && NumEnemy
triggerall = RoundState = 2
triggerall = P2StateType = A && P2StateType != L
triggerall = (stateno = 50 || stateno = 51) && Vel Y >= 0
trigger1 = P2BodyDist X < 64
trigger1 = StateType = A
trigger1 = Ctrl
trigger1 = Random < AILevel * 125

[State -1, Taunt]
type = changestate
value = cond(fvar(0), 100195, 195) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = FVar(0)
triggerall = AIlevel && numenemy
triggerall = statetype != A && life >= 0.5 * lifemax
triggerall = (enemynear, life) <= 0.5 * (enemynear, lifemax)
trigger1 = ctrl
trigger1 = p2dist x >= 160 && !(enemynear, ctrl)
trigger1 = (enemynear, movetype = H) && (enemynear, hitfall) && random < AILevel * 100

;=[ AI SPECIALS ]=

[State -1, Void Specials]
type = changestate
value = 21000
triggerall = FVar(0)
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = random % 32 = 1
trigger1 = ctrl && random < AILevel * 32

;=[ AI SUPERS ]=

[State -1, Void Supers]
type = changestate
value = 23000
triggerall = FVar(0) && power >= 1250
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = random % 32 = 1
trigger1 = ctrl && random < AILevel * 32

;=[ AI SAFE-PLAY ]=

[State -1 Throw]
type = changestate
value = cond(fvar(0), 100900, 900) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = AIlevel && numenemy && !numexplod(850)
triggerall = roundstate = 2 && ctrl  && enemynear, movetype != H
triggerall = statetype = S && enemynear, statetype = S
trigger1 = Enemy, StateType != L && P2BodyDist X <= 32
Trigger1 = Random < AILevel * 30

[State -1, Jump]
type = changestate
value = 40
trigger1 = AILevel && NumEnemy
trigger1 = StateType != A && Roundstate = 2
trigger1 = ctrl
trigger1 = numtarget
trigger1 = target,Pos Y = [-150,-100]
trigger1 = target,backedgebodydist <= 0
trigger1 = frontedgedist < 50
Trigger1 = Random < AILevel * 64

[State -1, Advancing Guard]
type = ChangeState
value = 770
trigger1 = Var(59) = 4 || Var(59) = 6
trigger1 = stateno = 150 || stateno = 152
trigger1 = AILevel && NumEnemy
trigger1 = Enemy, MoveContact = 1 || Enemy, ProjContact = 1 || Enemy, NumHelper
trigger1 = StateType != A
Trigger1 = Random < AILevel * 125
trigger1 = stateno != 770 && prevstateno != 770

[State -1, Power Charge]
type = changestate
value = 750
triggerall = Var(59) = 2 || Var(59) = 6
triggerall = !Var(20)
triggerall = !Var(57)
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power < const(data.power) && power < powermax && !var(20)
trigger1 = !inguarddist && p2dist x >= 160
Trigger1 = Random < AILevel * 64
trigger1 = stateno != 750

;=[ AI RECOVERY ]=

[State -1, Fall Recovery]
type = changestate
value = 5210
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && alive
trigger1 = stateno = 5050 && canrecover
trigger1 = vel y > 0 && pos y < -20
Trigger1 = Random < AILevel * 125

[State -1, Fall Recovery]
type = changestate
value = 5200
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && alive
trigger1 = stateno = 5050 && gethitvar(fall.recover)
trigger1 = vel y > 0 && pos y >= -20
Trigger1 = Random < AILevel * 125

;=====[ COMMANDS ]=====


;===[ SYSTEM COMMANDS ]===


;=[ TANDEM ]=

[State -1, Tandem]
type = ChangeState
value = 850
triggerall = !AIlevel && !NumHelper(10000) && !NumExplod(10000)
triggerall = command = "Tandem"
triggerall = power >= 1000
triggerall = StateNo != 850
triggerall = StateType != A
trigger1 = ctrl
trigger2 = (Var(1) || StateNo = 220 && MoveHit || StateNo = 250 && MoveHit) || Var(20)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ CUSTOM COMBO ]=

[State -1, Custom Combo]
type = ChangeState
value = 760
triggerall = Var(59) = 1 || Var(59) = 6
triggerall = !AIlevel
triggerall = !Var(40) && !Var(20)
triggerall = command = "custom-combo"
triggerall = roundstate = 2 && power >= 1000
trigger1 = ctrl

;=[ CUSTOM DRIVE ]=

[State -1, Custom Drive]
type = ChangeState
value = 790
triggerall = Var(59) = 4
triggerall = !AIlevel
triggerall = StateType != A
triggerall = command = "custom-combo"
triggerall = roundstate = 2 && power >= 1000
trigger1 = ctrl || Var(1)

;=[ POWER UP ]=

[State -1, Power Up]
type = ChangeState
value = 750
trigger1 = Var(59) = 2 || Var(59) = 6
trigger1 = !Var(57)
trigger1 = !AIlevel
trigger1 = command = "holdb" && command = "holdy"
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power < const(data.power) && power < powermax

;=[ MAX MODE ]=

[State -1, Max Mode]
type = ChangeState
value = 740
trigger1 = Var(59) = 2
trigger1 = !AIlevel && !Var(40)
trigger1 = command = "custom-combo"
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power >= 1000

;=[ ALPHA COUNTER ]=

[State -1, Alpha Counter]
type = ChangeState
value = 780
trigger1 = Var(59) != 5
trigger1 = !Var(57)
trigger1 = stateno = [150, 153]
trigger1 = !AIlevel
trigger1 = command = "y" && command = "b"
trigger1 = power >= 500
trigger1 = StateType != A

;=[ ADVANCING GUARD ]=

[State -1, Advancing Guard/Guard Push]
type = ChangeState
value = 770
trigger1 = Var(59) = 4 || Var(59) = 6
trigger1 = stateno = [150, 153]
trigger1 = Enemy, MoveContact = 1 || Enemy, ProjContact = 1 || Enemy, NumHelper
trigger1 = !AIlevel
trigger1 = command = "x" && command = "a"
trigger1 = StateType != A
trigger1 = stateno != 770 && prevstateno != 770 && NumExplod(7300) <= 3

;=[ ROLL / DODGE ]=

[State -1, Roll]
type = changestate
value = 720
triggerall = !AIlevel
triggerall = !Var(57)
triggerall = (Var(59) = [0, 1]) || Var(59) = 4
triggerall = roundstate = 2 && statetype != A && ctrl
trigger1 = command = "roll" || command = "RC_QCF" || command = "RC_QCB" || command = "RC_DP"
trigger2 = command = "RC_HCF" || command = "RC_HCB" || command = "RC_BDP"
trigger3 = command = "roll" && var(20) && StateType != A && (movecontact = [1, 24])

[State -1, Dodge]
type = changestate
value = 710
trigger1 = !Var(57)
trigger1 = !AIlevel
trigger1 = Var(59) = 2
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = command = "roll"

[State -1, Roll / Dodge]
type = changestate
value = ifelse((command = "holdfwd" || command = "holdback"), 720, 710)
triggerall = !AIlevel
triggerall = Var(59) = 6
triggerall = !Var(57)
triggerall = roundstate = 2 && statetype != A && ctrl
trigger1 = command = "roll" || command = "RC_QCF" || command = "RC_QCB" || command = "RC_DP"
trigger2 = command = "RC_HCF" || command = "RC_HCB" || command = "RC_BDP"
trigger3 = command = "roll" && var(20) && StateType != A && (movecontact = [1, 24])


;==[ SUPERS ]==


;=[ VOID DESTRUCTION ]=

[State -1, Void Destruction]
type = ChangeState
value = 3300
triggerall = (Var(59) = 0 || Var(59) = 2 && Var(40) || Var(59) = 6)
triggerall = !AIlevel && !Var(57) && !FVar(0)
triggerall = command = "Void Destruction"
triggerall = power >= cond(((Var(59) = [0, 1]) || Var(59) = 5), 3000, 1000) && !Var(20)
triggerall = StateNo != 3300
triggerall = StateType != A
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)


;=[ VOID SUPER ]=

[State -1, Void Super]
type = ChangeState
value = 23000
triggerall = !AIlevel && FVar(0)
triggerall = command = "Decisive Kill" || command = "Void Break"
triggerall = power >= 1000 || (var(20) || var(20) && (stateno = [200, 2999]))
triggerall = StateNo != 23000
triggerall = StateType != A
trigger1 = ctrl
trigger2 = Var(1) || Var(20)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)


;=[ VOID PINBALL ]=

[State -1, Void Pinball]
type = ChangeState
value = 3200 + (Var(57) * 10000)
triggerall = ((Var(59) = [0, 1]) || Var(59) = 6)
triggerall = !AIlevel && !FVar(0)
triggerall = command = "Void Pinball"
triggerall = power >= 2000
triggerall = StateNo != 3200
triggerall = StateType != A
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)


;=[ DARK SCATTER ]=

[State -1, Dark Scatter]
type = ChangeState
value = 13100
triggerall = !AIlevel && !FVar(0)
triggerall = command = "Dark Scatter" && Var(57)
triggerall = power >= 1000 || (var(20) || var(20) && (stateno = [200, 2999]))
triggerall = StateNo != 13100
triggerall = StateType != A
trigger1 = ctrl
trigger2 = Var(1) || Var(20)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)


;=[ RAGING VENGEANCE ]=

[State -1, Raging Vengeance]
type = ChangeState
value = 3000 + (Var(57) * 10000)
triggerall = !AIlevel && !FVar(0)
triggerall = command = "Raging Vengeance"
triggerall = power >= 1000 || (var(20) || var(20) && (stateno = [200, 2999]))
triggerall = StateNo != 3000
triggerall = StateType != A
trigger1 = ctrl
trigger2 = Var(1) || Var(20)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)


;=[ VAR(1) ]=

[State -1, Combo condition Reset]
type = VarSet
trigger1 = 1
var(1) = 0

[State -1, Combo condition Check]
type = VarSet
triggerall = !Var(47)
triggerall = statetype = S || statetype = C
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = [200, 450]) && StateNo != 450
trigger2 = movecontact ||(stateno!=200&&stateno!=210&&stateno!=420&&stateno!=230&&stateno!=240&&stateno!=450)
trigger3 = (stateno = [10200, 10450]) && StateNo != 10250
trigger3 = movecontact ||(stateno!=10230&&stateno!=10250&&stateno!=10450&&stateno!=10430&&stateno!=10440)
trigger4 = (stateno = [100200, 100450]) && StateNo != 100450
trigger4 = movecontact ||(stateno!=220&&stateno!=250&&stateno!=420&&stateno!=450)
trigger5 = (stateno = [20200, 20450]) && StateNo != 20250
trigger5 = movecontact
var(1) = 1

;===[ SPECIAL COMMANDS ]===


;=[ CREAM SMASH ]=

[State -1, Cream Smash]
type = ChangeState
value = cond(command="EX Cream Smash"&&power>=500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])),11230,11200)
triggerall = !AIlevel && !FVar(0)
triggerall = Helper(110300), Var(4) >= 30 * (Var(20) = 0)
triggerall = !numexplod(10000) && !numhelper(10000)
triggerall = Command = "Cream Smash" || Command = "EX Cream Smash" && Power >= 500
triggerall = statetype != A && Var(57)
trigger1 = Ctrl || StateNo = 40 || StateNo = 41
trigger2 = Var(1)
trigger3 = (var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999]))) && (movecontact = [1, 32])


;=[ BLOOD SACRIFICE ]=

[State -1, Blood Sacrifice]
type = ChangeState
value = cond(command="EX Blood Sacrifice"&&power>=500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])),1230,1200)
triggerall = !AIlevel && !FVar(0)
triggerall = !numexplod(10000) && !numhelper(10000)
triggerall = Command = "Blood Sacrifice" || Command = "EX Blood Sacrifice" && Power >= 500
triggerall = statetype != A && !Var(57)
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = (var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999]))) && (movecontact = [1, 32])


;=[ VOID BALL ]=

[State -1, Void Ball]
type = ChangeState
value = cond(command="EX Void Ball"&&power>=500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])),1030,1000)+(Var(57)*10000)
triggerall = !AIlevel && !FVar(0)
triggerall = !numexplod(10000) && !numhelper(10000)
triggerall = Command = "Void Ball" || Command = "EX Void Ball" && Power >= 500
triggerall = cond(var(57), 1, statetype != A)
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = (var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999]))) && (movecontact = [1, 32])


;=[ CREAM HOP ]=

[State -1, Cream Hop]
type = ChangeState
value = cond(command="EX Cream Hop"&&power>=500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])),1130,1100)+(Var(57)*10000)
triggerall = !AIlevel && !FVar(0)
triggerall = !numexplod(10000) && !numhelper(10000)
triggerall = Command = "Cream Hop" || Command = "EX Cream Hop" && Power >= 500
triggerall = statetype != A
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = (var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999]))) && (movecontact = [1, 32])


;=[ VOID PATTERN SPECIAL  ]=

[State -1, Void Pattern Special]
type = ChangeState
value = 21000
triggerall = !AIlevel && FVar(0)
triggerall = !numexplod(10000) && !numhelper(10000)
triggerall = statetype != A && (ctrl || var(1))
trigger1 = Command = "Void Pattern Straight"
trigger2 = Command = "Void Pattern Straight Reverse"
trigger3 = Command = "Void Pattern Curve"
trigger4 = Command = "Void Pattern Curve Reverse"


;===[ SYSTEM COMMANDS ]===


;=[ RUN FORWARD ]=

[State -1, Run]
type = ChangeState
value = 100 + (((Var(59) = [0, 1]) || (Var(59) = [4, 5])) * 2)
trigger1 = !AIlevel
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;=[ BACK DASH ]=

[State -1, Back Dash]
type = ChangeState
value = 105
trigger1 = !AIlevel
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;=[ TAUNT ]=

[State -1, Taunt]
type = changestate
value = cond(fvar(0), 100195 - (Var(57) * 80000), 195 + (Var(57) * 10000))
triggerall = !AIlevel
triggerall = command = "start"
triggerall = statetype = S
trigger1 = ctrl

;=[ SUPER JUMP ]=

[State -1,  Jump]
type = ChangeState
value = 41
triggerall = (Var(59) = [0, 1]) || Var(59) = 6
triggerall= !AILevel && roundstate = 2 && statetype != A
trigger1 = ctrl && command = "DU" 

;=[ THROW ]=

[State -1, Throw]
type = ChangeState
value = cond(fvar(0), 100900, 900) + (Var(57) * cond(fvar(0), -80000, 10000))
trigger1 = !AIlevel && !numexplod(850)
trigger1 = (Command = "2p") && (Command = "holdfwd" || command = "holdback")
trigger1 = Ctrl
trigger1 = StateType = S

;=[ STAND ON/OFF ]=

[State -1, Stand On/Off]
type = changestate
value = cond(!Var(57), 840, 845)
triggerall = !AIlevel && !NumHelper(10000) && !NumExplod(10000)
triggerall = command = "2k"
trigger1 = ctrl
trigger2 = stateno = 400 && (movecontact = [1, 32])
trigger3 = stateno = 200 && (movecontact = [1, 32])
ctrl = 1


;===[ NEUTRAL ATTACKS ]===


;=[ JAB ]=

[State -1, Stand Light Punch]
type = ChangeState
value = cond(fvar(0), 100200, 200) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "x"
triggerall = command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = stateno = 400 && animelemtime(4) > 1 && (movecontact = [1, 32]) 
trigger4 = stateno = 430 && animelemtime(4) > 1 && (movecontact = [1, 32]) 
trigger5 = stateno = 200 && animelemtime(3) > 0
trigger6 = StateNo = 10200 && animelemtime(3) > 1
trigger7 = (StateNo = 20200 || StateNo = 20400) && animelemtime(4) > 1
trigger8 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ STRONG ]=

[State -1, Stand Strong Punch]
type = ChangeState
value=cond(numexplod(10000)||numhelper(10000),cond(fvar(0),100200,200),cond(fvar(0), 100210, 210)+(Var(57)*cond(fvar(0),-80000,10000)))
triggerall = !AIlevel
triggerall = !AIlevel
triggerall = command = "y" && command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = StateNo = 10200 && animelemtime(3) > 1
trigger4 = (StateNo = 20200 || StateNo = 20400) && (movecontact = [1, 32])
trigger5 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ FIERCE ]=

[State -1, Stand Fierce Punch]
type = ChangeState
value = cond(fvar(0), 100220, 220) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = !AIlevel
triggerall = command = "z" && command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = stateno = 400 && animelemtime(3) > 1 && (movecontact = [1, 32])
trigger4 = (StateNo = 20200 || StateNo = 20400) && (movecontact = [1, 32])
trigger5 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ SHORT ]=

[State -1, Stand Light Kick]
type = ChangeState
value = cond(fvar(0), 100230, 230) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = stateno = 400 && animelemtime(3) > 1 && (movecontact = [1, 32]) 
trigger4 = stateno = 430 && animelemtime(7) > 0 && (movecontact = [1, 32]) 
trigger5 = StateNo = 10200 && animelemtime(3) > 1 && movecontact
trigger6 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ FORWARD ]=

[State -1, Standing Strong Kick]
type = ChangeState
value = cond(fvar(0), 100240, 240) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "b" &&  command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32]) 
trigger3 = StateNo = 10200 && animelemtime(3) > 1 && movecontact
trigger4 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ ROUNDHOUSE ]=

[State -1, Roundhouse]
type = ChangeState
value = cond(fvar(0), 100250, 250) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "c" && command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = stateno = 400 && animelemtime(3) > 1 && (movecontact = [1, 32])
trigger4 = (StateNo = 20200 || StateNo = 20400) && (movecontact = [1, 32])
trigger5 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ CROUCHING JAB ]=

[State -1, Crouching Light Punch]
type = ChangeState
value = cond(fvar(0), 100400, 400) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = stateno = 400 && animelemtime(4) > 0 
trigger4 = StateNo = 10400 && animelemtime(3) > 1
trigger5 = stateno = 10200 && animelemtime(3) > 0 && movehit
trigger6 = StateNo = 20400 && animelemtime(3) > 1
trigger7 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ CROUCHING STRONG ]=

[State -1, Crouching Strong Punch]
type = ChangeState
value = cond(fvar(0), 100410, 410) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = (StateNo = 20200 || StateNo = 20400) && (movecontact = [1, 32])
trigger3 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger4 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ CROUCHING FIERCE ]=

[State -1, Crouching Fierce Punch]
type = ChangeState
value = cond(numexplod(10000)||numhelper(10000),cond(fvar(0),100400,400),cond(fvar(0), 100420, 420)+(Var(57)*cond(fvar(0),-80000,10000)))
triggerall = !AIlevel
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = StateNo = 10400 && animelemtime(3) > 0 && (movecontact = [1, 32])
trigger5 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ CROUCHING SHORT ]=

[State -1, Crouching Light Kick]
type = ChangeState
value = cond(numexplod(10000)||numhelper(10000),cond(fvar(0),100400,400),cond(fvar(0), 100430, 430)+(Var(57)*cond(fvar(0),-80000,10000)))
triggerall = !AIlevel
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = stateno = 400 && animelemtime(4) > 0 && (movecontact = [1, 32]) 
trigger4 = stateno = 430 && animelemtime(4) > 0 && (movecontact = [1, 32]) 
trigger5 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ CROUCHING FORWARD ]=

[State -1, Crouching Strong Kick]
type = ChangeState
value = cond(numexplod(10000)||numhelper(10000),cond(fvar(0),100400,400),cond(fvar(0), 100440, 440)+(Var(57)*cond(fvar(0),-80000,10000)))
triggerall = !AIlevel
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ CROUCHING ROUNDHOUSE ]=

[State -1, Crouching Sweep]
type = ChangeState
value = cond(numexplod(10000)||numhelper(10000),cond(fvar(0),100400,400),cond(fvar(0), 100450, 450)+(Var(57)*cond(fvar(0),-80000,10000)))
triggerall = !AIlevel
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && ((stateno = [200, 499]) || (stateno = [1000, 2999])) && (movecontact = [1, 32])
trigger3 = var(20) && ((stateno = [10200, 10499]) || (stateno = [20200, 20499]) || (stateno = [11000, 12999])) && (movecontact = [1, 32])

;=[ AERIAL JAB ]=

[State -1, Jump Light Punch]
type = ChangeState
value = cond(fvar(0), 100600, 600) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "x"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL STRONG ]=

[State -1, Jump Strong Punch]
type = ChangeState
value = cond(fvar(0), 100610, 610) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL FIERCE ]=

[State -1, Jump Fierce Punch]
type = ChangeState
value = cond(numexplod(10000)||numhelper(10000),cond(fvar(0),100610,610),cond(fvar(0), 100620, 620)+(Var(57)*cond(fvar(0),-80000,10000)))
triggerall = !AIlevel
triggerall = command = "z"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL SHORT ]=

[State -1, Jump Light Kick]
type = ChangeState
value = cond(fvar(0), 100630, 630) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "a"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL FORWARD ]=

[State -1, Jump Strong Kick]
type = ChangeState
value = cond(fvar(0), 100640, 640) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL ROUNDHOUSE ]=

[State -1, Jump Roundhouse Kick]
type = ChangeState
value = cond(fvar(0), 100650, 650) + (Var(57) * cond(fvar(0), -80000, 10000))
triggerall = !AIlevel
triggerall = command = "c"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact



;=[ PARRY ]=

[State -1, Standing Parry]
type = hitoverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = !AIlevel
triggerall = pos Y = 0
trigger1 = statetype != A
trigger1 = roundstate = 2 && (statetype = S || stateno = 5120)
trigger1 = command = "F" && command != "B" && command != "U" && command != "D"
trigger1 = ctrl || (stateno = [700, 701]) || stateno = 5120
attr = SA, AA, AP
stateno = 700
slot = 0
time = 3

[State -1, Crouching Parry]
type = hitoverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = !AIlevel
triggerall = pos Y = 0
trigger1 = roundstate = 2 && statetype != A
trigger1 = statetype = C
trigger1 = command = "F" && command != "B" && command != "U" && command = "D"
trigger1 = ctrl || (stateno = [700, 701]) || stateno = 5120
attr = C, AA, AP
stateno = 701
slot = 0
time = 3

[State -1, Air Parry]
type = hitoverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
trigger1 = !AIlevel
trigger1 = roundstate = 2 && statetype = A
trigger1 = command = "F" && command != "B" && command != "U" && command != "D"
trigger1 = ctrl || stateno = 702
attr = SA, AA, AP
stateno = 702
forceair = 1
slot = 0
forceair = 1
slot = 0
time = 3